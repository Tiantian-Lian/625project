---
title: "final project test"
author: "Group7"
date: "2025-11-13"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
library(randomForest)
library(caret)
library(dplyr)
library(pROC)
library(ggplot2)
```

```{r}
data <- read.csv("D:/Users/Desktop/BIOSTAT 625/Final_project/Data Base/diabetes/diabetes_binary_5050split.csv")
```

```{r}
set.seed(123)

data_clean <- data %>%
  mutate(
    Diabetes_binary = as.factor(Diabetes_binary),
    HighBP = as.factor(HighBP),
    HighChol = as.factor(HighChol),
    CholCheck = as.factor(CholCheck),
    Smoker = as.factor(Smoker),
    Stroke = as.factor(Stroke),
    HeartDiseaseorAttack = as.factor(HeartDiseaseorAttack),
    PhysActivity = as.factor(PhysActivity),
    Fruits = as.factor(Fruits),
    Veggies = as.factor(Veggies),
    HvyAlcoholConsump = as.factor(HvyAlcoholConsump),
    AnyHealthcare = as.factor(AnyHealthcare),
    NoDocbcCost = as.factor(NoDocbcCost),
    DiffWalk = as.factor(DiffWalk),
    Sex = as.factor(Sex)
  )

sum(is.na(data_clean))

# Split data into 70% training and 30% testing
train_index <- createDataPartition(data_clean$Diabetes_binary, 
                                  p = 0.7, 
                                  list = FALSE)
train_data <- data_clean[train_index, ]
test_data <- data_clean[-train_index, ]

cat("Training set size:", nrow(train_data), "\n")
cat("Testing set size:", nrow(test_data), "\n")
cat("Training set proportion:", mean(train_data$Diabetes_binary == "1"), "\n")
cat("Testing set proportion:", mean(test_data$Diabetes_binary == "1"), "\n")
```



